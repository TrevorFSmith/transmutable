{% extends "base/base.html" %}

{% block extra-links %}
	<link rel="stylesheet" href="{{MEDIA_URL}}banana/banana.css?v=5" />

<script>
function rockCompletedItem(itemID, rock_count, element){
	try {
		$.post(
			'{% url banana.views.rock_completed_item %}',
			'completed_item_id=' + itemID,
			function(data) { 
				$(element).html('Rocked! (' + (rock_count + 1) + ')');
			},
			'json'
		);
		return false;
	} catch(er) {
		console.log('error', er);
		return false;
	}
}
function submitCompletedItem(form, completedList){
	console.log("Submitting completed item");
	$.post(
		'{% url banana.views.completed_edit %}',
		form.serialize(),
		function(data) {
			if(completedList){
				completedList.prepend('<li class="completed-item-li rendered-wrapper">' + data.rendered + '<div class="completed-item-meta">just now</div></li>');
			}
		},
		'json'
	);
}
function submitWorkdoc(form, workdocRender){
	$.post(
		'{% url banana.views.workdoc_edit %}',
		form.serialize(),
		function(data) {
			if(workdocRender){
				workdocRender.html(data.rendered);
			}
		},
		'json'
	);
}
</script>
{% endblock %}
