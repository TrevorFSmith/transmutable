{% extends "base/base.html" %}

{% block extra-links %}
	<link rel="stylesheet" href="{{MEDIA_URL}}banana/banana.css?v=2" />

<style>
{% if request.user.is_authenticated %}
.completed-item-li:hover .completed-item-rock-button { visibility: visible; position: relative; }
{% else %}
.completed-item-li:hover .completed-item-rock-button { visibility: hidden; position: absolute; }
{% endif %}
</style>

<script>
function rockCompletedItem(itemID, rock_count, element){
	try {
		$.post(
			'{% url banana.views.rock_completed_item %}',
			'completed_item_id=' + itemID,
			function(data) { 
				$(element).html('Rocked! (' + (rock_count + 1) + ')');
			},
			'json'
		);
		return false;
	} catch(er) {
		console.log('error', er);
		return false;
	}
}
</script>
{% endblock %}
